(this.webpackJsonptopdevs_test=this.webpackJsonptopdevs_test||[]).push([[0],{17:function(e,t,r){e.exports={personCardWrapper:"EmployeeCard_personCardWrapper__2zCxu",inputGroup:"EmployeeCard_inputGroup__2lwJU"}},18:function(e,t,r){e.exports={listContainer:"EmployeesList_listContainer__IpMRh",titleContainer:"EmployeesList_titleContainer__3u8Ml"}},19:function(e,t,r){e.exports={App:"App_App__2Fx1V",employeesBlockWrapper:"App_employeesBlockWrapper__gy7o7"}},31:function(e,t,r){e.exports={employeeListWrapper:"EmployeesListItem_employeeListWrapper__Z3v-N"}},6:function(e,t,r){e.exports={selectedEmployeesContainer:"EmployeesSelected_selectedEmployeesContainer__1enQo",birthDateWrapper:"EmployeesSelected_birthDateWrapper__T9cTI",birthDateItem:"EmployeesSelected_birthDateItem__2QEyA",monthItemWrapper:"EmployeesSelected_monthItemWrapper__12dUk"}},62:function(e,t,r){},63:function(e,t,r){"use strict";r.r(t);var n,s=r(0),c=r.n(s),a=r(10),i=r.n(a),o=r(12),l="employees",p="employees/fetchEmployees",u="pending",d="resolved",m="ok",j="failure",b=r(3),f=r(5),y=r(15),v=r.n(y),h=r(16),O=r(29),x=r(7),E=r(30),g=r.n(E),_=function(){return g.a.get("".concat("http://topdevsprojects.org:8081","/tasks/users")).then((function(e){return{data:e.data,status:e.status}}))},L=Object(x.b)(p,function(){var e=Object(O.a)(v.a.mark((function e(t,r){var n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,_();case 4:if(200===(s=e.sent).status){e.next=7;break}throw new Error;case 7:return e.abrupt("return",s.data.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{isActive:!1})})));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",n(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}()),N=Object(x.c)({name:l,initialState:{loading:u,status:m,employeesList:[],activeEmployeesList:[]},reducers:{addActiveEmployee:function(e,t){var r=e.employeesList.find((function(e){return e.id===t.payload}));r.isActive=!r.isActive,e.activeEmployeesList.push(r)},removeActiveEmployee:function(e,t){var r=e.employeesList.find((function(e){return e.id===t.payload}));r.isActive=!r.isActive,e.activeEmployeesList=e.activeEmployeesList.filter((function(e){return e.id!==t.payload}))},setLocalStorageActiveEmployee:function(e,t){e.activeEmployeesList=t.payload},resetSelectedItems:function(e){e.activeEmployeesList=[]}},extraReducers:(n={},Object(f.a)(n,L.pending,(function(e){e.loading=u})),Object(f.a)(n,L.fulfilled,(function(e,t){e.loading=d,e.employeesList=t.payload})),Object(f.a)(n,L.rejected,(function(e){e.status=j})),n)}),C=N.actions,A=C.addActiveEmployee,S=C.removeActiveEmployee,k=C.setLocalStorageActiveEmployee,W=C.resetSelectedItems,I=N.reducer,U=r(4),R=r.n(U),w=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],M=["January","February","March","April","May","June","July","August","September","October","November","December"],D=R.a.shape({id:R.a.string.isRequired,firstName:R.a.string.isRequired,lastName:R.a.string.isRequired,dob:R.a.string.isRequired}),J="Active",q="Not active",B="activeUsers",F=r(1),G=function(e){var t=e.label,r=e.checked,n=e.onChange;return Object(F.jsxs)("label",{children:[Object(F.jsx)("input",{type:"radio",checked:r,onChange:n}),t]})},T=r(17),P=r.n(T),Q=function(e){var t=e.id,r=e.firstName,n=e.lastName,c=e.activeUsers,a=Object(s.useState)(!1),i=Object(o.a)(a,2),l=i[0],p=i[1],u=Object(b.b)();Object(s.useEffect)((function(){c.find((function(e){return e.id===t}))?p(!0):p(!1)}),[c,t]);var d=Object(s.useCallback)((function(){u(A(t))}),[u,t]),m=Object(s.useCallback)((function(){u(S(t))}),[u,t]);return Object(F.jsxs)("div",{className:P.a.personCardWrapper,style:{borderColor:l?"#9ec2e6":"inherit"},children:[Object(F.jsx)("p",{style:{color:l?"#9ec2e6":"inherit",transition:".3s color ease"},children:"".concat(r," ").concat(n)}),Object(F.jsxs)("div",{className:P.a.inputGroup,children:[Object(F.jsx)(G,{checked:l,label:J,onChange:d}),Object(F.jsx)(G,{checked:!l,label:q,onChange:m})]})]})};Q.defaultProps={activeUsers:[]};var V=Q,Z=r(31),z=r.n(Z),H=function(e){var t=e.title,r=e.employees,n=e.activeUsers;return Object(F.jsxs)("li",{children:[Object(F.jsx)("h3",{children:t}),Object(F.jsx)("div",{className:z.a.employeeListWrapper,children:r.length>0?r.map((function(e){var t=e.id,r=e.firstName,s=e.lastName;return Object(F.jsx)(V,{activeUsers:n,firstName:r,lastName:s,id:t},t)})):Object(F.jsx)("strong",{children:"Employees list is empty"})})]})};H.propsType={title:R.a.string.isRequired,employees:R.a.arrayOf(D).isRequired,activeUsers:R.a.arrayOf(D)},H.defaultProps={activeUser:[]};var K=H,X=r(18),Y=r.n(X),$=function(e){var t=e.employees,r=e.onResetSelectedUsers,n=Object(s.useMemo)((function(){return w.map((function(e){return{title:e,employees:t.filter((function(t){return t.firstName[0]===e}))}}))}),[t]),c=Object(b.c)((function(e){return e.employees.activeEmployeesList}));return Object(F.jsxs)("div",{className:Y.a.listContainer,children:[Object(F.jsxs)("div",{className:Y.a.titleContainer,children:[Object(F.jsx)("h2",{children:"Employees"}),c.length?Object(F.jsx)("button",{onClick:r,children:"Reset all"}):null]}),Object(F.jsx)("ul",{children:n.map((function(e){var t=e.title,r=e.employees;return Object(F.jsx)(K,{title:t,employees:r,activeUsers:c},t)}))})]})},ee=r(11),te=r.n(ee),re=r(6),ne=r.n(re),se=function(e){var t=e.employees;return Object(F.jsx)(F.Fragment,{children:t.map((function(e){var t=e.id,r=e.firstName,n=e.lastName,s=e.dob;return Object(F.jsxs)("div",{className:ne.a.birthDateItem,children:[Object(F.jsx)("span",{children:"".concat(r," ").concat(n)}),Object(F.jsx)("span",{children:te()(s).format("LL")})]},t)}))})},ce=function(){var e=Object(b.c)((function(e){return e.employees.activeEmployeesList})),t=Object(s.useMemo)((function(){return M.map((function(t){return{month:t,employees:e.filter((function(e){var r=e.dob;return te()(r).format("MMMM").includes(t)}))}}))}),[e]);return Object(F.jsxs)("div",{className:ne.a.selectedEmployeesContainer,children:[Object(F.jsx)("h2",{children:"Employees birthday"}),Object(F.jsx)("div",{className:ne.a.birthDateWrapper,children:t.map((function(e){var t=e.month,r=e.employees;return r.length>0&&Object(F.jsxs)("div",{className:ne.a.monthItemWrapper,children:[Object(F.jsx)("h3",{children:t}),Object(F.jsx)(se,{employees:r})]},t)}))})]})},ae=r(19),ie=r.n(ae),oe=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),r=t[0],n=t[1],c=Object(b.b)(),a=Object(b.c)((function(e){return e.employees})),i=a.employeesList,l=a.loading,p=a.status,u=a.activeEmployeesList,f=Object(s.useCallback)((function(){u.length&&localStorage.setItem(B,JSON.stringify(u))}),[u]),y=Object(s.useCallback)((function(){c(W()),localStorage.removeItem(B)}),[c]);return Object(s.useEffect)((function(){l===d&&n(!0)}),[l]),Object(s.useEffect)((function(){return window.addEventListener("beforeunload",f),function(){return window.removeEventListener("beforeunload",f)}}),[f]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem(B));e&&c(k(e)),c(L())}),[c]),Object(F.jsxs)("div",{className:ie.a.App,children:[r?Object(F.jsxs)("div",{className:ie.a.employeesBlockWrapper,children:[Object(F.jsx)($,{employees:i,onResetSelectedUsers:y}),Object(F.jsx)(ce,{})]}):p===m&&Object(F.jsx)("p",{children:"Loading..."}),p===j&&Object(F.jsx)("p",{children:"Data fetching failure..."})]})},le=Object(x.a)({reducer:{employees:I}});r(62);i.a.render(Object(F.jsx)(c.a.Fragment,{children:Object(F.jsx)(b.a,{store:le,children:Object(F.jsx)(oe,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.f3ed79e3.chunk.js.map